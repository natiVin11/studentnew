<!DOCTYPE html>
<html lang="he">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>转 住</title>
  <script defer src="js/jsIndex3.js"></script>
  <link rel="stylesheet" href="css/cssIndex3.css">
</head>
<body>
<div class="container">
  <div class="nav-bar">
    <button onclick="window.location.href='index.html'">转</button>
    <button onclick="window.location.href='index2.html'">转拽转 驻爪转 住</button>
    <button onclick="window.location.href='https://brzvmtraining.barzi.health.gov.il/youtube/index.php'">住专 </button>
    <button onclick="window.location.href='about.html'">拽砖专 注转 住专</button>
    <button onclick="window.location.href='index3.html'">转</button>
    <button onclick="window.location.href='index4.html'">爪'拽 住 转拽转 驻 驻 </button>
    <button onclick="window.location.href='index5.html'">驻住 住住</button>
    <button onclick="window.location.href='index6.html'">砖转 转砖转</button>
  </div>
  <h1> 转 住</h1>

  <!-- 驻转专 专转 砖 -->
  <div id="category-buttons" class="buttons">
    <button onclick="loadLessons(' 拽')"> 拽</button>
    <button onclick="loadLessons('驻拽爪')">驻拽爪</button>
    <button onclick="loadLessons('住住')">住住</button>
  </div>

  <!-- 专砖转 转 -->
  <div id="learning-list" class="learning-list"></div>

  <!-- 爪转 转 砖  专转 -->
  <div id="learning-content" class="learning-content"></div>

  <!-- 注转 砖  砖 -->
  <div id="error-message" class="error-message" style="display: none;">
    <p> 转 注 转 转.  住 专 转专.</p>
  </div>
</div>

<div><h2>Created by Nati from the student team</h2></div>

<script>
  async function loadLessons(category) {
    try {
      const response = await fetch(`/api/lessons?category=${category}`);
      if (!response.ok) {
        throw new Error('Failed to fetch lessons');
      }
      const data = await response.json();

      const learningList = document.getElementById("learning-list");
      learningList.innerHTML = "";

      // 爪转 转
      data.forEach(lesson => {
        const div = document.createElement("div");
        div.classList.add("lesson-item");
        div.innerHTML = `<h3>${lesson.title}</h3><p>${lesson.description}</p>`;
        div.onclick = () => showLessonContent(lesson.content);
        learningList.appendChild(div);
      });

      // 住转专转 注转 砖  砖 转
      document.getElementById("error-message").style.display = "none";
    } catch (error) {
      console.error("Error fetching lessons:", error);
      // 爪转 注转 砖 拽专 砖 注
      document.getElementById("error-message").style.display = "block";
    }
  }

  function showLessonContent(content) {
    const contentDiv = document.getElementById("learning-content");
    contentDiv.innerHTML = `<p>${content}</p>`;
  }
</script>

</body>
</html>
